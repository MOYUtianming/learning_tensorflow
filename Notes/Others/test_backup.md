
'''
    alex_net 入门 8层
    res_net 常规
    u_net 非重点

    界面制作
    上部为通用菜单栏;
    中部左侧为输入数据图像;
    中部右侧为输出数据图像;
    下部为其他数据 / 功能区;
    FutureWarning: Passing (type, 1) or '1type'
     as a synonym of type is deprecated;
     in a future version of numpy,
     it will be understood as (type, (1,)) / '(1,)type'.
    _np_qint8 = np.dtype([("qint8", np.int8, 1)])
'''

[Running] set PYTHONIOENCODING=utf8 && D:\Anaconda3\envs\tfenv\python.exe "d:\_GraduateDesign\综述一期\tensorflow_test\test.py"
2.0.0
Downloading data from https://storage.googleapis.com/tensorflow/tf-keras-datasets/mnist.npz

    8192/11490434 [..............................] - ETA: 1s
   24576/11490434 [..............................] - ETA: 1:24
   49152/11490434 [..............................] - ETA: 1:21
   73728/11490434 [..............................] - ETA: 1:03
   90112/11490434 [..............................] - ETA: 1:36
  163840/11490434 [..............................] - ETA: 57s 
  172032/11490434 [..............................] - ETA: 1:02
  196608/11490434 [..............................] - ETA: 57s 
  221184/11490434 [..............................] - ETA: 1:08
  278528/11490434 [..............................] - ETA: 56s 
  335872/11490434 [..............................] - ETA: 50s
  376832/11490434 [..............................] - ETA: 46s
  409600/11490434 [>.............................] - ETA: 52s
  548864/11490434 [>.............................] - ETA: 39s
  573440/11490434 [>.............................] - ETA: 39s
  581632/11490434 [>.............................] - ETA: 39s
  622592/11490434 [>.............................] - ETA: 37s
  663552/11490434 [>.............................] - ETA: 36s
  696320/11490434 [>.............................] - ETA: 36s
  720896/11490434 [>.............................] - ETA: 38s
  761856/11490434 [>.............................] - ETA: 36s
  811008/11490434 [=>............................] - ETA: 35s
  843776/11490434 [=>............................] - ETA: 34s
  966656/11490434 [=>............................] - ETA: 30s
 1007616/11490434 [=>............................] - ETA: 29s
 1048576/11490434 [=>............................] - ETA: 28s
 1064960/11490434 [=>............................] - ETA: 30s
 1097728/11490434 [=>............................] - ETA: 30s
 1245184/11490434 [==>...........................] - ETA: 26s
 1294336/11490434 [==>...........................] - ETA: 26s
 1310720/11490434 [==>...........................] - ETA: 26s
 1327104/11490434 [==>...........................] - ETA: 26s
 1359872/11490434 [==>...........................] - ETA: 26s
 1392640/11490434 [==>...........................] - ETA: 27s
 1425408/11490434 [==>...........................] - ETA: 27s
 1474560/11490434 [==>...........................] - ETA: 26s
 1572864/11490434 [===>..........................] - ETA: 25s
 1605632/11490434 [===>..........................] - ETA: 25s
 1654784/11490434 [===>..........................] - ETA: 24s
 1687552/11490434 [===>..........................] - ETA: 24s
 1703936/11490434 [===>..........................] - ETA: 24s
 1720320/11490434 [===>..........................] - ETA: 25s
 1753088/11490434 [===>..........................] - ETA: 25s
 1769472/11490434 [===>..........................] - ETA: 25s
 1835008/11490434 [===>..........................] - ETA: 24s
 1900544/11490434 [===>..........................] - ETA: 24s
 1949696/11490434 [====>.........................] - ETA: 24s
 1982464/11490434 [====>.........................] - ETA: 23s
 1998848/11490434 [====>.........................] - ETA: 24s
 2064384/11490434 [====>.........................] - ETA: 24s
 2097152/11490434 [====>.........................] - ETA: 24s
 2228224/11490434 [====>.........................] - ETA: 22s
 2260992/11490434 [====>.........................] - ETA: 22s
 2293760/11490434 [====>.........................] - ETA: 22s
 2326528/11490434 [=====>........................] - ETA: 22s
 2342912/11490434 [=====>........................] - ETA: 22s
 2375680/11490434 [=====>........................] - ETA: 23s
 2572288/11490434 [=====>........................] - ETA: 21s
 2605056/11490434 [=====>........................] - ETA: 21s
 2637824/11490434 [=====>........................] - ETA: 21s
 2670592/11490434 [=====>........................] - ETA: 21s
 2686976/11490434 [======>.......................] - ETA: 21s
 2719744/11490434 [======>.......................] - ETA: 21s
 2785280/11490434 [======>.......................] - ETA: 21s
 2899968/11490434 [======>.......................] - ETA: 20s
 2940928/11490434 [======>.......................] - ETA: 20s
 2965504/11490434 [======>.......................] - ETA: 20s
 2990080/11490434 [======>.......................] - ETA: 20s
 3031040/11490434 [======>.......................] - ETA: 20s
 3055616/11490434 [======>.......................] - ETA: 20s
 3137536/11490434 [=======>......................] - ETA: 19s
 3170304/11490434 [=======>......................] - ETA: 19s
 3186688/11490434 [=======>......................] - ETA: 19s
 3211264/11490434 [=======>......................] - ETA: 19s
 3252224/11490434 [=======>......................] - ETA: 19s
 3268608/11490434 [=======>......................] - ETA: 19s
 3293184/11490434 [=======>......................] - ETA: 19s
 3301376/11490434 [=======>......................] - ETA: 19s
 3399680/11490434 [=======>......................] - ETA: 19s
 3424256/11490434 [=======>......................] - ETA: 19s
 3448832/11490434 [========>.....................] - ETA: 19s
 3473408/11490434 [========>.....................] - ETA: 19s
 3506176/11490434 [========>.....................] - ETA: 19s
 3538944/11490434 [========>.....................] - ETA: 19s
 3547136/11490434 [========>.....................] - ETA: 19s
 3563520/11490434 [========>.....................] - ETA: 19s
 3661824/11490434 [========>.....................] - ETA: 18s
 3686400/11490434 [========>.....................] - ETA: 18s
 3702784/11490434 [========>.....................] - ETA: 18s
 3735552/11490434 [========>.....................] - ETA: 18s
 3751936/11490434 [========>.....................] - ETA: 18s
 3776512/11490434 [========>.....................] - ETA: 18s
 3792896/11490434 [========>.....................] - ETA: 19s
 3825664/11490434 [========>.....................] - ETA: 18s
 3891200/11490434 [=========>....................] - ETA: 18s
 3907584/11490434 [=========>....................] - ETA: 18s
 3940352/11490434 [=========>....................] - ETA: 18s
 3964928/11490434 [=========>....................] - ETA: 18s
 3981312/11490434 [=========>....................] - ETA: 18s
 3989504/11490434 [=========>....................] - ETA: 18s
 3997696/11490434 [=========>....................] - ETA: 19s
 4112384/11490434 [=========>....................] - ETA: 18s
 4136960/11490434 [=========>....................] - ETA: 18s
 4153344/11490434 [=========>....................] - ETA: 18s
 4177920/11490434 [=========>....................] - ETA: 18s
 4202496/11490434 [=========>....................] - ETA: 18s
 4210688/11490434 [=========>....................] - ETA: 18s
 4276224/11490434 [==========>...................] - ETA: 18s
 4374528/11490434 [==========>...................] - ETA: 17s
 4399104/11490434 [==========>...................] - ETA: 17s
 4423680/11490434 [==========>...................] - ETA: 17s
 4448256/11490434 [==========>...................] - ETA: 17s
 4472832/11490434 [==========>...................] - ETA: 17s
 4497408/11490434 [==========>...................] - ETA: 17s
 4505600/11490434 [==========>...................] - ETA: 17s
 4587520/11490434 [==========>...................] - ETA: 17s
 4685824/11490434 [===========>..................] - ETA: 17s
 4702208/11490434 [===========>..................] - ETA: 16s
 4743168/11490434 [===========>..................] - ETA: 16s
 4775936/11490434 [===========>..................] - ETA: 16s
 4800512/11490434 [===========>..................] - ETA: 16s
 4825088/11490434 [===========>..................] - ETA: 16s
 4849664/11490434 [===========>..................] - ETA: 16s
 4939776/11490434 [===========>..................] - ETA: 16s
 5029888/11490434 [============>.................] - ETA: 15s
 5054464/11490434 [============>.................] - ETA: 15s
 5095424/11490434 [============>.................] - ETA: 15s
 5128192/11490434 [============>.................] - ETA: 15s
 5160960/11490434 [============>.................] - ETA: 15s
 5177344/11490434 [============>.................] - ETA: 15s
 5218304/11490434 [============>.................] - ETA: 15s
 5283840/11490434 [============>.................] - ETA: 15s
 5390336/11490434 [=============>................] - ETA: 14s
 5423104/11490434 [=============>................] - ETA: 14s
 5455872/11490434 [=============>................] - ETA: 14s
 5488640/11490434 [=============>................] - ETA: 14s
 5513216/11490434 [=============>................] - ETA: 14s
 5570560/11490434 [=============>................] - ETA: 14s
 5611520/11490434 [=============>................] - ETA: 14s
 5734400/11490434 [=============>................] - ETA: 13s
 5767168/11490434 [==============>...............] - ETA: 13s
 5799936/11490434 [==============>...............] - ETA: 13s
 5832704/11490434 [==============>...............] - ETA: 13s
 5865472/11490434 [==============>...............] - ETA: 13s
 5914624/11490434 [==============>...............] - ETA: 13s
 5980160/11490434 [==============>...............] - ETA: 13s
 6127616/11490434 [==============>...............] - ETA: 12s
 6160384/11490434 [===============>..............] - ETA: 12s
 6193152/11490434 [===============>..............] - ETA: 12s
 6225920/11490434 [===============>..............] - ETA: 12s
 6258688/11490434 [===============>..............] - ETA: 12s
 6275072/11490434 [===============>..............] - ETA: 12s
 6340608/11490434 [===============>..............] - ETA: 12s
 6414336/11490434 [===============>..............] - ETA: 11s
 6545408/11490434 [================>.............] - ETA: 11s
 6594560/11490434 [================>.............] - ETA: 11s
 6627328/11490434 [================>.............] - ETA: 11s
 6668288/11490434 [================>.............] - ETA: 11s
 6701056/11490434 [================>.............] - ETA: 11s
 6717440/11490434 [================>.............] - ETA: 11s
 6840320/11490434 [================>.............] - ETA: 10s
 6995968/11490434 [=================>............] - ETA: 10s
 7036928/11490434 [=================>............] - ETA: 10s
 7086080/11490434 [=================>............] - ETA: 9s 
 7118848/11490434 [=================>............] - ETA: 10s
 7184384/11490434 [=================>............] - ETA: 9s 
 7241728/11490434 [=================>............] - ETA: 9s
 7389184/11490434 [==================>...........] - ETA: 9s
 7413760/11490434 [==================>...........] - ETA: 9s
 7446528/11490434 [==================>...........] - ETA: 9s
 7495680/11490434 [==================>...........] - ETA: 8s
 7528448/11490434 [==================>...........] - ETA: 8s
 7544832/11490434 [==================>...........] - ETA: 8s
 7602176/11490434 [==================>...........] - ETA: 8s
 7766016/11490434 [===================>..........] - ETA: 8s
 7806976/11490434 [===================>..........] - ETA: 8s
 7847936/11490434 [===================>..........] - ETA: 7s
 7880704/11490434 [===================>..........] - ETA: 7s
 7897088/11490434 [===================>..........] - ETA: 7s
 7929856/11490434 [===================>..........] - ETA: 7s
 7987200/11490434 [===================>..........] - ETA: 7s
 8036352/11490434 [===================>..........] - ETA: 7s
 8134656/11490434 [====================>.........] - ETA: 7s
 8282112/11490434 [====================>.........] - ETA: 6s
 8331264/11490434 [====================>.........] - ETA: 6s
 8364032/11490434 [====================>.........] - ETA: 6s
 8396800/11490434 [====================>.........] - ETA: 6s
 8429568/11490434 [=====================>........] - ETA: 6s
 8519680/11490434 [=====================>........] - ETA: 6s
 8683520/11490434 [=====================>........] - ETA: 5s
 8716288/11490434 [=====================>........] - ETA: 5s
 8765440/11490434 [=====================>........] - ETA: 5s
 8806400/11490434 [=====================>........] - ETA: 5s
 8839168/11490434 [======================>.......] - ETA: 5s
 8880128/11490434 [======================>.......] - ETA: 5s
 8953856/11490434 [======================>.......] - ETA: 5s
 8994816/11490434 [======================>.......] - ETA: 5s
 9175040/11490434 [======================>.......] - ETA: 4s
 9216000/11490434 [=======================>......] - ETA: 4s
 9240576/11490434 [=======================>......] - ETA: 4s
 9281536/11490434 [=======================>......] - ETA: 4s
 9314304/11490434 [=======================>......] - ETA: 4s
 9330688/11490434 [=======================>......] - ETA: 4s
 9609216/11490434 [========================>.....] - ETA: 3s
 9650176/11490434 [========================>.....] - ETA: 3s
 9682944/11490434 [========================>.....] - ETA: 3s
 9732096/11490434 [========================>.....] - ETA: 3s
 9773056/11490434 [========================>.....] - ETA: 3s
 9814016/11490434 [========================>.....] - ETA: 3s
 9854976/11490434 [========================>.....] - ETA: 3s
 9936896/11490434 [========================>.....] - ETA: 3s
10125312/11490434 [=========================>....] - ETA: 2s
10166272/11490434 [=========================>....] - ETA: 2s
10207232/11490434 [=========================>....] - ETA: 2s
10240000/11490434 [=========================>....] - ETA: 2s
10280960/11490434 [=========================>....] - ETA: 2s
10321920/11490434 [=========================>....] - ETA: 2s
10330112/11490434 [=========================>....] - ETA: 2s
10403840/11490434 [==========================>...] - ETA: 2s
10444800/11490434 [==========================>...] - ETA: 2s
10608640/11490434 [==========================>...] - ETA: 1s
10665984/11490434 [==========================>...] - ETA: 1s
10706944/11490434 [==========================>...] - ETA: 1s
10747904/11490434 [===========================>..] - ETA: 1s
10780672/11490434 [===========================>..] - ETA: 1s
10821632/11490434 [===========================>..] - ETA: 1s
10870784/11490434 [===========================>..] - ETA: 1s
10952704/11490434 [===========================>..] - ETA: 1s
11051008/11490434 [===========================>..] - ETA: 0s
11239424/11490434 [============================>.] - ETA: 0s
11280384/11490434 [============================>.] - ETA: 0s
11313152/11490434 [============================>.] - ETA: 0s
11468800/11490434 [============================>.] - ETA: 0s
11493376/11490434 [==============================] - 23s 2us/step
2020-01-08 13:22:52.794697: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2

[Done] exited with code=0 in 28.341 seconds

import tensorflow as tf
import timeit


with tf.device('/cpu:0'):
	cpu_a = tf.random.normal([10000, 1000])
	cpu_b = tf.random.normal([1000, 2000])
	print(cpu_a.device, cpu_b.device)

with tf.device('/gpu:0'):
	gpu_a = tf.random.normal([10000, 1000])
	gpu_b = tf.random.normal([1000, 2000])
	print(gpu_a.device, gpu_b.device)

def cpu_run():
	with tf.device('/cpu:0'):
		c = tf.matmul(cpu_a, cpu_b)
	return c 

def gpu_run():
	with tf.device('/gpu:0'):
		c = tf.matmul(gpu_a, gpu_b)
	return c 


# warm up
cpu_time = timeit.timeit(cpu_run, number=10)
gpu_time = timeit.timeit(gpu_run, number=10)
print('warmup:', cpu_time, gpu_time)


cpu_time = timeit.timeit(cpu_run, number=10)
gpu_time = timeit.timeit(gpu_run, number=10)
print('run time:', cpu_time, gpu_time)

